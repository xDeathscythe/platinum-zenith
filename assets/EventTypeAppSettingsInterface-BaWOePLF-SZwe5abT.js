import{j as e}from"./vendor-motion-C-S6sOG7.js";import{r as t}from"./vendor-react-HserkeQh.js";import{I as a}from"./index-S7FKDcGU-CcwJBnip.js";import"./index-W_TQsZEV.js";const s=()=>{const[s,n]=t.useState(),[o,i]=t.useState();return t.useEffect(()=>{!async function(){var e;const t=await fetch("/api/integrations/basecamp3/projects");if(!t.ok)return;const a=await t.json(),s=null==a?void 0:a.currentProject,o=null==(e=null==a?void 0:a.projects)?void 0:e.map(e=>({value:String(e.id),label:e.name}));if(o&&(n(o),s)){const e=o.find(e=>e.value===String(s));e&&i(e)}}()},[]),e.jsxs("div",{className:"mt-2 text-sm",children:[e.jsxs("div",{className:"flex gap-3",children:[e.jsx("div",{className:"items-center",children:e.jsx("p",{className:"py-2",children:"Link a Basecamp project to this event:"})}),e.jsx(a,{placeholder:"Select project",options:s,isLoading:!s,className:"md:min-w-[120px]",onChange:async function(e){e&&(await fetch("/api/integrations/basecamp3/projectMutation",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({projectId:e.value})}),i(e))},value:o})]}),e.jsxs("div",{className:"mt-2",children:["Please note that as of now you can only link ",e.jsx("span",{className:"italic",children:"one"})," of your projects to cal.com"]})]})};export{s as default};
