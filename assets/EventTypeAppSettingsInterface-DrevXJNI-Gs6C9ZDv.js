import{j as a}from"./vendor-motion-C-S6sOG7.js";import{ac as e,J as l,ad as n,ae as r,C as u,m as i,U as s,W as t,I as d,af as o,ag as b,ah as v,ai as c,h as m,aj as p}from"./index-S7FKDcGU-BGCLkj0f.js";import{r as f}from"./vendor-react-HserkeQh.js";import"./index-gfgZRmwe.js";const h=[{label:"United States dollar (USD)",value:"usd"},{label:"United Arab Emirates dirham (AED)",value:"aed"},{label:"Afghan afghani (AFN)",value:"afn"},{label:"Albanian lek (ALL)",value:"all"},{label:"Armenian dram (AMD)",value:"amd"},{label:"Netherlands Antillean guilder (ANG)",value:"ang"},{label:"Angolan kwanza (AOA)",value:"aoa"},{label:"Argentine peso (ARS)",value:"ars"},{label:"Australian dollar (AUD)",value:"aud"},{label:"Aruban florin (AWG)",value:"awg"},{label:"Azerbaijani manat (AZN)",value:"azn"},{label:"Bosnia and Herzegovina convertible mark (BAM)",value:"bam"},{label:"Barbadian dollar (BBD)",value:"bbd"},{label:"Bangladeshi taka (BDT)",value:"bdt"},{label:"Bulgarian lev (BGN)",value:"bgn"},{label:"Burundian franc (BIF)",value:"bif"},{label:"Bermudian dollar (BMD)",value:"bmd"},{label:"Brunei dollar (BND)",value:"bnd"},{label:"Bolivian boliviano (BOB)",value:"bob"},{label:"Brazilian real (BRL)",value:"brl"},{label:"Bahamian dollar (BSD)",value:"bsd"},{label:"Botswana pula (BWP)",value:"bwp"},{label:"Belarusian ruble (BYN)",value:"byn"},{label:"Belize dollar (BZD)",value:"bzd"},{label:"Canadian dollar (CAD)",value:"cad"},{label:"Congolese franc (CDF)",value:"cdf"},{label:"Swiss franc (CHF)",value:"chf"},{label:"Chilean peso (CLP)",value:"clp"},{label:"Chinese yuan (CNY)",value:"cny"},{label:"Colombian peso (COP)",value:"cop"},{label:"Costa Rican colón (CRC)",value:"crc"},{label:"Cape Verdean escudo (CVE)",value:"cve"},{label:"Czech koruna (CZK)",value:"czk"},{label:"Djiboutian franc (DJF)",value:"djf"},{label:"Danish krone (DKK)",value:"dkk"},{label:"Dominican peso (DOP)",value:"dop"},{label:"Algerian dinar (DZD)",value:"dzd"},{label:"Egyptian pound (EGP)",value:"egp"},{label:"Ethiopian birr (ETB)",value:"etb"},{label:"Euro (EUR)",value:"eur"},{label:"Fijian dollar (FJD)",value:"fjd"},{label:"Falkland Islands pound (FKP)",value:"fkp"},{label:"British pound sterling (GBP)",value:"gbp"},{label:"Georgian lari (GEL)",value:"gel"},{label:"Gibraltar pound (GIP)",value:"gip"},{label:"Gambian dalasi (GMD)",value:"gmd"},{label:"Guinean franc (GNF)",value:"gnf"},{label:"Guatemalan quetzal (GTQ)",value:"gtq"},{label:"Guyanese dollar (GYD)",value:"gyd"},{label:"Hong Kong dollar (HKD)",value:"hkd"},{label:"Honduran lempira (HNL)",value:"hnl"},{label:"Haitian gourde (HTG)",value:"htg"},{label:"Hungarian forint (HUF)",value:"huf"},{label:"Indonesian rupiah (IDR)",value:"idr"},{label:"Israeli new shekel (ILS)",value:"ils"},{label:"Indian rupee (INR)",value:"inr"},{label:"Icelandic króna (ISK)",value:"isk"},{label:"Jamaican dollar (JMD)",value:"jmd"},{label:"Japanese yen (JPY)",value:"jpy"},{label:"Kenyan shilling (KES)",value:"kes"},{label:"Kyrgyzstani som (KGS)",value:"kgs"},{label:"Cambodian riel (KHR)",value:"khr"},{label:"Comorian franc (KMF)",value:"kmf"},{label:"South Korean won (KRW)",value:"krw"},{label:"Cayman Islands dollar (KYD)",value:"kyd"},{label:"Kazakhstani tenge (KZT)",value:"kzt"},{label:"Laotian kip (LAK)",value:"lak"},{label:"Lebanese pound (LBP)",value:"lbp"},{label:"Sri Lankan rupee (LKR)",value:"lkr"},{label:"Liberian dollar (LRD)",value:"lrd"},{label:"Lesotho loti (LSL)",value:"lsl"},{label:"Moroccan dirham (MAD)",value:"mad"},{label:"Moldovan leu (MDL)",value:"mdl"},{label:"Malagasy ariary (MGA)",value:"mga"},{label:"Macedonian denar (MKD)",value:"mkd"},{label:"Myanmar kyat (MMK)",value:"mmk"},{label:"Mongolian tögrög (MNT)",value:"mnt"},{label:"Macanese pataca (MOP)",value:"mop"},{label:"Mauritian rupee (MUR)",value:"mur"},{label:"Maldivian rufiyaa (MVR)",value:"mvr"},{label:"Malawian kwacha (MWK)",value:"mwk"},{label:"Mexican peso (MXN)",value:"mxn"},{label:"Malaysian ringgit (MYR)",value:"myr"},{label:"Mozambican metical (MZN)",value:"mzn"},{label:"Namibian dollar (NAD)",value:"nad"},{label:"Nigerian naira (NGN)",value:"ngn"},{label:"Nicaraguan córdoba (NIO)",value:"nio"},{label:"Norwegian krone (NOK)",value:"nok"},{label:"Nepalese rupee (NPR)",value:"npr"},{label:"New Zealand dollar (NZD)",value:"nzd"},{label:"Panamanian balboa (PAB)",value:"pab"},{label:"Peruvian sol (PEN)",value:"pen"},{label:"Papua New Guinean kina (PGK)",value:"pgk"},{label:"Philippine peso (PHP)",value:"php"},{label:"Pakistani rupee (PKR)",value:"pkr"},{label:"Polish złoty (PLN)",value:"pln"},{label:"Paraguayan guaraní (PYG)",value:"pyg"},{label:"Qatari riyal (QAR)",value:"qar"},{label:"Romanian leu (RON)",value:"ron"},{label:"Serbian dinar (RSD)",value:"rsd"},{label:"Russian ruble (RUB)",value:"rub"},{label:"Rwandan franc (RWF)",value:"rwf"},{label:"Saudi riyal (SAR)",value:"sar"},{label:"Solomon Islands dollar (SBD)",value:"sbd"},{label:"Seychellois rupee (SCR)",value:"scr"},{label:"Swedish krona (SEK)",value:"sek"},{label:"Singapore dollar (SGD)",value:"sgd"},{label:"Saint Helena pound (SHP)",value:"shp"},{label:"Sierra Leonean leone (SLE)",value:"sle"},{label:"Somali shilling (SOS)",value:"sos"},{label:"Surinamese dollar (SRD)",value:"srd"},{label:"São Tomé and Príncipe dobra (STD)",value:"std"},{label:"Swazi lilangeni (SZL)",value:"szl"},{label:"Thai baht (THB)",value:"thb"},{label:"Tajikistani somoni (TJS)",value:"tjs"},{label:"Tongan paʻanga (TOP)",value:"top"},{label:"Turkish lira (TRY)",value:"try"},{label:"Trinidad and Tobago dollar (TTD)",value:"ttd"},{label:"New Taiwan dollar (TWD)",value:"twd"},{label:"Tanzanian shilling (TZS)",value:"tzs"},{label:"Ukrainian hryvnia (UAH)",value:"uah"},{label:"Ugandan shilling (UGX)",value:"ugx"},{label:"Uruguayan peso (UYU)",value:"uyu"},{label:"Uzbekistan som (UZS)",value:"uzs"},{label:"Vietnamese đồng (VND)",value:"vnd"},{label:"Vanuatu vatu (VUV)",value:"vuv"},{label:"Samoan tala (WST)",value:"wst"},{label:"Central African CFA franc (XAF)",value:"xaf"},{label:"East Caribbean dollar (XCD)",value:"xcd"},{label:"West African CFA franc (XOF)",value:"xof"},{label:"CFP franc (XPF)",value:"xpf"},{label:"Yemeni rial (YER)",value:"yer"},{label:"South African rand (ZAR)",value:"zar"},{label:"Zambian kwacha (ZMW)",value:"zmw"}],g=({getAppData:g,setAppData:y,disabled:x,eventType:N})=>{var D;const C=g("price"),S=g("currency")||h[0].value,[k,j]=f.useState(h.find(a=>a.value===S)||{label:h[0].label,value:h[0].value}),w=g("paymentOption"),A=e.find(a=>w===a.value),P=g("enabled"),B=()=>G.find(a=>a.value===(!0===g("refundCountCalendarDays")?1:0)),M=g("autoChargeNoShowFeeIfCancelled"),F=g("autoChargeNoShowFeeTimeUnit"),R=g("autoChargeNoShowFeeTimeValue"),{t:T}=l(),L=void 0!==(null==(D=N.recurringEvent)?void 0:D.count),K=!!N.seatsPerTimeSlot;f.useEffect(()=>{P&&(g("currency")||y("currency",h[0].value),g("paymentOption")||y("paymentOption",e[0].value)),g("refundPolicy")||y("refundPolicy",n.NEVER)},[P,g,y]);const G=[{value:0,label:T("business_days")},{value:1,label:T("calendar_days")}],z=[{value:r.enum.minutes,label:T("minutes")},{value:r.enum.hours,label:T("hours")},{value:r.enum.days,label:T("days")}];return a.jsxs(a.Fragment,{children:[L&&a.jsx(u,{className:"mt-2",severity:"warning",title:T("warning_recurring_event_payment")}),!L&&P&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"mt-4 block items-center justify-start sm:flex sm:space-x-2",children:a.jsx(i,{"data-testid":"stripe-price-input",label:T("price"),className:"h-[38px]",addOnLeading:a.jsx(a.Fragment,{children:k.value?(O="en",E=k.value,(0).toLocaleString(O,{style:"currency",currency:E,minimumFractionDigits:0,maximumFractionDigits:0}).replace(/\d/g,"").trim()):""}),addOnSuffix:S.toUpperCase(),addOnClassname:"h-[38px]",step:"0.01",min:"0.5",type:"number",required:!0,placeholder:"Price",disabled:x,onChange:a=>{y("price",t(Number(a.target.value),S))},value:C>0?s(C,S):void 0})}),a.jsxs("div",{className:"mt-5 w-60",children:[a.jsx("label",{className:"text-default mb-1 block text-sm font-medium",htmlFor:"currency",children:T("currency")}),a.jsx(d,{"data-testid":"stripe-currency-select",variant:"default",options:h,innerClassNames:{input:"stripe-currency-input"},value:k,className:"text-black",defaultValue:k,onChange:a=>{a&&(j(a),y("currency",a.value))}})]}),a.jsxs("div",{className:"mt-4 w-60",children:[a.jsx("label",{className:"text-default mb-1 block text-sm font-medium",htmlFor:"currency",children:T("payment_option")}),a.jsx(d,{"data-testid":"stripe-payment-option-select",defaultValue:A?{...A,label:T(A.label)}:{...e[0],label:T(e[0].label)},options:e.map(a=>({...a,label:T(a.label)||a.label})),onChange:a=>{a&&(y("paymentOption",a.value),"HOLD"===a.value&&(y("refundPolicy",n.NEVER),y("refundDaysCount",void 0),y("refundCountCalendarDays",void 0)))},className:"mb-1 h-[38px] w-full",isDisabled:K||x})]}),K&&"HOLD"===w&&a.jsx(u,{className:"mt-2",severity:"warning",title:T("seats_and_no_show_fee_error")}),"HOLD"!==w&&a.jsxs("div",{className:"mt-4 w-full",children:[a.jsx("label",{className:"text-default mb-1 block text-sm font-medium",children:T("refund_policy")}),a.jsxs(o,{disabled:x||"HOLD"===w,defaultValue:"never",className:"flex flex-col stack-y-2",value:g("refundPolicy"),onValueChange:a=>{y("refundPolicy",a),a!==n.DAYS&&(y("refundDaysCount",void 0),y("refundCountCalendarDays",void 0))},children:[a.jsx(b,{className:"w-fit",value:n.ALWAYS,label:T("always"),id:"always"}),a.jsx(b,{className:"w-fit",value:n.NEVER,label:T("never"),id:"never"}),a.jsxs("div",{className:m("text-default mb-2 flex flex-wrap items-center text-sm"),children:[a.jsx(v,{className:"min-w-4 bg-default border-default flex h-4 w-4 cursor-pointer items-center rounded-full border focus:border-2 focus:outline-none ltr:mr-2 rtl:ml-2",value:"days",id:"days",children:a.jsx(c,{className:"after:bg-inverted relative flex h-4 w-4 items-center justify-center after:block after:h-2 after:w-2 after:rounded-full"})}),a.jsxs("div",{className:"flex items-center",children:[a.jsxs("span",{className:"me-2 ms-2",children:[" ",T("if_cancelled")]}),a.jsx(i,{labelSrOnly:!0,type:"number",className:m("border-default my-0 block w-16 text-sm [appearance:textfield] ltr:mr-2 rtl:ml-2"),placeholder:"2",disabled:x,min:0,defaultValue:g("refundDaysCount"),required:g("refundPolicy")===n.DAYS,value:g("refundDaysCount")??"",onChange:a=>y("refundDaysCount",parseInt(a.currentTarget.value))}),a.jsx(d,{options:G,isSearchable:!1,isDisabled:x,onChange:a=>y("refundCountCalendarDays",1===(null==a?void 0:a.value)),value:B(),defaultValue:B()}),a.jsxs("span",{className:"me-2 ms-2",children:[" ",T("before")]})]})]})]})]}),"HOLD"===w&&a.jsxs("div",{className:"mt-4",children:[a.jsx("div",{children:a.jsx(p,{checked:M,onChange:a=>y("autoChargeNoShowFeeIfCancelled",a.target.checked),description:T("auto_charge_for_last_minute_cancellation")})}),M&&a.jsx("div",{children:a.jsxs("div",{className:"mt-2 flex items-center",children:[a.jsx(i,{labelSrOnly:!0,type:"number",className:m("border-default my-0 block w-16 text-sm [appearance:textfield] ltr:mr-2 rtl:ml-2"),placeholder:"2",disabled:x,min:0,defaultValue:R,required:M,value:R??"",onChange:a=>y("autoChargeNoShowFeeTimeValue",parseInt(a.currentTarget.value))}),a.jsx(d,{options:z,isSearchable:!1,isDisabled:x,onChange:a=>y("autoChargeNoShowFeeTimeUnit",null==a?void 0:a.value),value:z.find(a=>a.value===F)||z[0],defaultValue:z.find(a=>a.value===F)||z[0]}),a.jsx("span",{className:"me-2 ms-2",children:T("before_scheduled_start_time")})]})})]})]})]});var O,E};export{g as default};
