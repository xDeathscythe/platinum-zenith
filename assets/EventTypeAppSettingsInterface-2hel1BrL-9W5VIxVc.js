import{j as e}from"./vendor-motion-C-S6sOG7.js";import{r as a}from"./vendor-react-HserkeQh.js";import{J as l,B as t,C as s,m as r,F as n,I as i}from"./index-S7FKDcGU-BGCLkj0f.js";import"./index-gfgZRmwe.js";const c=[{label:"BTC",value:"BTC",unit:"sats"}],m=({eventType:m,getAppData:u,setAppData:o})=>{var d,v;const{t:p}=l(),b=u("price"),x=u("currency"),[f,j]=a.useState(c.find(e=>e.value===x)||c[0]),y=u("paymentOption"),h=(null==(d=t)?void 0:d.find(e=>y===e.value))||{label:t[0].label,value:t[0].value},g=!!m.seatsPerTimeSlot,[N]=a.useState(u("enabled")),w=void 0!==(null==(v=m.recurringEvent)?void 0:v.count);return a.useEffect(()=>{!x&&N&&o("currency",f.value)},[x,f,o,N]),e.jsx(e.Fragment,{children:w?e.jsx(s,{className:"mt-2",severity:"warning",title:p("warning_recurring_event_payment")}):N&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mt-2 block items-center sm:flex",children:e.jsx(r,{label:"Price",labelSrOnly:!0,addOnLeading:e.jsx(n,{className:"h-4 w-4"}),addOnSuffix:f.unit||f.value,type:"number",required:!0,className:"block w-full rounded-sm border-gray-300 pl-2 pr-12 text-sm",placeholder:"Price",onChange:e=>{o("price",Number(e.target.value)),x&&o("currency",x)},value:b&&b>0?b:void 0})}),e.jsxs("div",{className:"mt-5 w-60",children:[e.jsx("label",{className:"text-default block text-sm font-medium",htmlFor:"currency",children:p("currency")}),e.jsx(i,{variant:"default",options:c,value:f,className:"text-black",defaultValue:f,onChange:e=>{e&&(j(e),o("currency",e.value))}})]}),e.jsxs("div",{className:"mt-2 w-60",children:[e.jsx("label",{className:"text-default block text-sm font-medium",htmlFor:"currency",children:"Payment option"}),e.jsx(i,{defaultValue:h?{...h,label:p(h.label)}:{...t[0],label:p(t[0].label)},options:t.map(e=>({...e,label:p(e.label)||e.label})),onChange:e=>{e&&o("paymentOption",e.value)},className:"mb-1 h-[38px] w-full",isDisabled:g})]}),g&&"HOLD"===y&&e.jsx(s,{className:"mt-2",severity:"warning",title:p("seats_and_no_show_fee_error")})]})})};export{m as default};
