import{j as e}from"./vendor-motion-C-S6sOG7.js";import{r as a}from"./vendor-react-HserkeQh.js";import{e as t,a as l,n as s}from"./currencyOptions-r01lKGBF-C7joIfUJ.js";import{a4 as n,J as r,C as i,m as c,U as m,W as u,I as o}from"./index-S7FKDcGU-CcwJBnip.js";import"./index-W_TQsZEV.js";const d=({getAppData:d,setAppData:p,eventType:v})=>{var b,y;const f=d("price"),x=d("currency")||t[0].value,[j,h]=a.useState(t.find(e=>e.value===x)),[g,N]=a.useState(s(x)?l[x]:""),O=d("paymentOption"),w=(null==(b=n)?void 0:b.find(e=>O===e.value))||{label:n[0].label,value:n[0].value},S=!!v.seatsPerTimeSlot,[_,k]=a.useState(d("enabled")),{t:D}=r(),F=void 0!==(null==(y=v.recurringEvent)?void 0:y.count);return a.useEffect(()=>{_&&(d("currency")||p("currency",t[0].value),d("paymentOption")||p("paymentOption",n[0].value))},[]),F?e.jsx(i,{className:"mt-2",severity:"warning",title:D("warning_recurring_event_payment")}):_?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mt-2 block items-center sm:flex",children:e.jsx(c,{label:"Price",labelSrOnly:!0,addOnLeading:g,addOnSuffix:x,step:"0.01",min:"0.5",type:"number",required:!0,className:"block w-full rounded-sm pl-2 text-sm",placeholder:"Price","data-testid":"paypal-price-input",onChange:e=>{p("price",u(Number(e.target.value),x)),j&&p("currency",j.value)},value:f>0?m(f,x):void 0})}),e.jsxs("div",{className:"mt-5 w-60",children:[e.jsx("label",{className:"text-default mb-1 block text-sm font-medium",htmlFor:"currency",children:D("currency")}),e.jsx(o,{variant:"default","data-testid":"paypal-currency-select",options:t,value:j,className:"text-black",defaultValue:j,onChange:e=>{e&&(h(e),N(l[e.value]),p("currency",e.value))}})]}),e.jsxs("div",{className:"mt-4 w-60",children:[e.jsx("label",{className:"text-default mb-1 block text-sm font-medium",htmlFor:"currency",children:"Payment option"}),e.jsx(o,{"data-testid":"paypal-payment-option-select",defaultValue:w?{...w,label:D(w.label)}:{...n[0],label:D(n[0].label)},options:n.map(e=>({...e,label:D(e.label)||e.label})),onChange:e=>{e&&p("paymentOption",e.value)},className:"mb-1 h-[38px] w-full",isDisabled:S})]}),S&&"HOLD"===O&&e.jsx(i,{className:"mt-2",severity:"warning",title:D("seats_and_no_show_fee_error")})]}):null};export{d as default};
