import{j as e}from"./vendor-motion-C-S6sOG7.js";import{r as a}from"./vendor-react-HserkeQh.js";import{I as t}from"./index-S7FKDcGU-BFqPyMS1.js";import"./index-DXp2A_ku.js";const s=()=>{const[s,n]=a.useState(),[o,i]=a.useState();return a.useEffect(()=>{!async function(){var e;const a=await fetch("/api/integrations/basecamp3/projects");if(!a.ok)return;const t=await a.json(),s=null==t?void 0:t.currentProject,o=null==(e=null==t?void 0:t.projects)?void 0:e.map(e=>({value:String(e.id),label:e.name}));if(o&&(n(o),s)){const e=o.find(e=>e.value===String(s));e&&i(e)}}()},[]),e.jsxs("div",{className:"mt-2 text-sm",children:[e.jsxs("div",{className:"flex gap-3",children:[e.jsx("div",{className:"items-center",children:e.jsx("p",{className:"py-2",children:"Link a Basecamp project to this event:"})}),e.jsx(t,{placeholder:"Select project",options:s,isLoading:!s,className:"md:min-w-[120px]",onChange:async function(e){e&&(await fetch("/api/integrations/basecamp3/projectMutation",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({projectId:e.value})}),i(e))},value:o})]}),e.jsxs("div",{className:"mt-2",children:["Please note that as of now you can only link ",e.jsx("span",{className:"italic",children:"one"})," of your projects to cal.com"]})]})};export{s as default};
