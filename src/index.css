@import "tailwindcss";

/* ─── Theme tokens: light / dark ─── */
:root {
  color-scheme: light dark;

  /* Surfaces */
  --page:  #ffffff;
  --panel: #f7f7f8;
  --tile:  #ffffff;

  /* Ink (text) */
  --ink:   #111111;
  --ink-2: rgba(0,0,0,0.65);
  --ink-3: rgba(0,0,0,0.50);
  --ink-4: rgba(0,0,0,0.35);
  --ink-5: rgba(0,0,0,0.15);

  /* Edges (borders) */
  --edge:   rgba(0,0,0,0.12);
  --edge-2: rgba(0,0,0,0.06);

  /* Tints (overlays / glass) */
  --tint:   rgba(0,0,0,0.04);
  --tint-2: rgba(0,0,0,0.08);
  --glass:  rgba(255,255,255,0.85);

  /* Inverted tokens (for buttons that stay black-on-white / white-on-black) */
  --inv-bg:  #111111;
  --inv-fg:  #ffffff;
  --inv-bg-hover: rgba(0,0,0,0.80);
}

@media (prefers-color-scheme: dark) {
  :root {
    --page:  #000000;
    --panel: #111111;
    --tile:  #1a1a1a;

    --ink:   #ffffff;
    --ink-2: rgba(255,255,255,0.70);
    --ink-3: rgba(255,255,255,0.50);
    --ink-4: rgba(255,255,255,0.35);
    --ink-5: rgba(255,255,255,0.15);

    --edge:   rgba(255,255,255,0.10);
    --edge-2: rgba(255,255,255,0.06);

    --tint:   rgba(255,255,255,0.06);
    --tint-2: rgba(255,255,255,0.12);
    --glass:  rgba(0,0,0,0.80);

    --inv-bg:  #ffffff;
    --inv-fg:  #000000;
    --inv-bg-hover: rgba(255,255,255,0.90);
  }
}

/* Force-dark for hero / CTA / AppPreview (they always sit on dark aurora/gradient) */
.theme-dark {
  --page:  #000000;
  --panel: #111111;
  --tile:  #1a1a1a;

  --ink:   #ffffff;
  --ink-2: rgba(255,255,255,0.70);
  --ink-3: rgba(255,255,255,0.50);
  --ink-4: rgba(255,255,255,0.35);
  --ink-5: rgba(255,255,255,0.15);

  --edge:   rgba(255,255,255,0.10);
  --edge-2: rgba(255,255,255,0.06);

  --tint:   rgba(255,255,255,0.06);
  --tint-2: rgba(255,255,255,0.12);
  --glass:  rgba(0,0,0,0.80);

  --inv-bg:  #ffffff;
  --inv-fg:  #000000;
  --inv-bg-hover: rgba(255,255,255,0.90);
}

/* ─── Register as Tailwind colors ─── */
@theme {
  --font-sans: "OpenAI Sans", "Inter", -apple-system, BlinkMacSystemFont, sans-serif;

  --color-page:    var(--page);
  --color-panel:   var(--panel);
  --color-tile:    var(--tile);

  --color-ink:     var(--ink);
  --color-ink-2:   var(--ink-2);
  --color-ink-3:   var(--ink-3);
  --color-ink-4:   var(--ink-4);
  --color-ink-5:   var(--ink-5);

  --color-edge:    var(--edge);
  --color-edge-2:  var(--edge-2);

  --color-tint:    var(--tint);
  --color-tint-2:  var(--tint-2);
  --color-glass:   var(--glass);

  --color-inv-bg:       var(--inv-bg);
  --color-inv-fg:       var(--inv-fg);
  --color-inv-bg-hover: var(--inv-bg-hover);
}

@layer base {
  html {
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }
  body {
    font-family: var(--font-sans);
    font-size: 17px;
    font-weight: 400;
    line-height: 28px;
    letter-spacing: -0.17px;
    background-color: var(--page);
    color: var(--ink);
  }
  /* GPU-promote sections for buttery compositing */
  section {
    contain: layout style;
    will-change: auto;
  }
}

/* Mobile responsive overrides */
@media (max-width: 768px) {
  .px-\[70px\] {
    padding-left: 20px !important;
    padding-right: 20px !important;
  }
}

/* ─── Scroll-reveal animations (replaces Framer Motion whileInView) ─── */
.reveal {
  opacity: 0;
  transform: translateY(24px);
  transition: opacity 0.6s cubic-bezier(0.16, 1, 0.3, 1),
              transform 0.6s cubic-bezier(0.16, 1, 0.3, 1);
  will-change: opacity, transform;
}
.reveal-left {
  opacity: 0;
  transform: translateX(-24px);
  transition: opacity 0.6s cubic-bezier(0.16, 1, 0.3, 1),
              transform 0.6s cubic-bezier(0.16, 1, 0.3, 1);
  will-change: opacity, transform;
}
.reveal-scale {
  opacity: 0;
  transform: scale(0.96);
  transition: opacity 0.6s cubic-bezier(0.16, 1, 0.3, 1),
              transform 0.6s cubic-bezier(0.16, 1, 0.3, 1);
  will-change: opacity, transform;
}
.reveal.revealed,
.reveal-left.revealed,
.reveal-scale.revealed {
  opacity: 1;
  transform: translateY(0) translateX(0) scale(1);
}
.reveal-stagger > * {
  opacity: 0;
  transform: translateY(16px);
  transition: opacity 0.5s cubic-bezier(0.16, 1, 0.3, 1),
              transform 0.5s cubic-bezier(0.16, 1, 0.3, 1);
}
.reveal-stagger.revealed > *:nth-child(1) { transition-delay: 0ms; opacity: 1; transform: none; }
.reveal-stagger.revealed > *:nth-child(2) { transition-delay: 60ms; opacity: 1; transform: none; }
.reveal-stagger.revealed > *:nth-child(3) { transition-delay: 120ms; opacity: 1; transform: none; }
.reveal-stagger.revealed > *:nth-child(4) { transition-delay: 180ms; opacity: 1; transform: none; }
.reveal-stagger.revealed > *:nth-child(5) { transition-delay: 240ms; opacity: 1; transform: none; }
.reveal-stagger.revealed > *:nth-child(6) { transition-delay: 300ms; opacity: 1; transform: none; }

/* Hero entrance */
@keyframes hero-fade-up {
  from { opacity: 0; transform: translateY(20px); }
  to   { opacity: 1; transform: translateY(0); }
}
.hero-enter { animation: hero-fade-up 0.7s cubic-bezier(0.16, 1, 0.3, 1) both; }
.hero-enter-d1 { animation-delay: 0.1s; }
.hero-enter-d2 { animation-delay: 0.2s; }
.hero-enter-d3 { animation-delay: 0.3s; }
.hero-enter-d4 { animation-delay: 0.5s; }

/* Scrolling strip */
@keyframes scroll-strip {
  0% { transform: translateX(0); }
  100% { transform: translateX(-50%); }
}
.animate-scroll-strip {
  animation: scroll-strip 30s linear infinite;
  will-change: transform;
}
.animate-scroll-strip:hover { animation-play-state: paused; }

/* Prefer-color-scheme helpers */
@media (prefers-color-scheme: light) {
  .only-dark { display: none !important; }
}
@media (prefers-color-scheme: dark) {
  .only-light { display: none !important; }
}

/* Logo: white SVG → black in light mode */
@media (prefers-color-scheme: light) {
  .logo-adaptive { filter: brightness(0); }
}

/* Hide scrollbars (AppPreview) */
.no-scrollbar { scrollbar-width: none; }
.no-scrollbar::-webkit-scrollbar { display: none; }

/* Reduced motion */
@media (prefers-reduced-motion: reduce) {
  .reveal, .reveal-left, .reveal-scale { opacity: 1; transform: none; transition: none; }
  .reveal-stagger > * { opacity: 1; transform: none; transition: none; }
  .hero-enter { animation: none; opacity: 1; }
  *, *::before, *::after {
    animation-duration: 0.01ms !important;
    transition-duration: 0.01ms !important;
  }
}
